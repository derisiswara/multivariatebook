{
  "hash": "9aad00aef7200fbd856aae6da98cd62e",
  "result": {
    "engine": "knitr",
    "markdown": "\n# Analytic Hierarchy Process (AHP)\n\n## Prosedur Pengolahan AHP\n\n### Data\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nahpdata <- read.csv(\"Data/ahp.csv\")\nahpdata\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Responden SAL_QL SAL_IW SAL_LC QL_IW QL_LC IW_LC J1_J2 J1_j3 J2_J3 J1_J2.1\n1         1     -5     -2     -4     2     2    -2    -2    -4    -2       2\n2         2     -7     -3     -3     3     3    -4    -3    -7    -1       3\n  J1_j3.1 J2_J3.1 J1_J2.2 J1_j3.2 J2_J3.2 J1_J2.3 J1_j3.3 J2_J3.3\n1       3       3       7       3      -3       4       7      -2\n2       3       3       4      -1      -3       5       2      -4\n```\n\n\n:::\n:::\n\n\n### Analisis\n\n#### Faktor\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Mendefinisikan faktor\nfaktor <- c(\"SAL\", \"QL\", \"IW\", \"LC\")\n# Menampilkan data frame\nfaktor_data <- ahpdata[, 2:7]\nfaktor_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  SAL_QL SAL_IW SAL_LC QL_IW QL_LC IW_LC\n1     -5     -2     -4     2     2    -2\n2     -7     -3     -3     3     3    -4\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# install.packages(\"ahpsurvey\")\nlibrary(ahpsurvey)\nfaktor_data_mat <- ahp.mat(df = faktor_data, faktor, \n                           negconvert = TRUE)\nfaktor_data_mat\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n     SAL QL  IW  LC\nSAL 1.00  5 2.0 4.0\nQL  0.20  1 0.5 0.5\nIW  0.50  2 1.0 2.0\nLC  0.25  2 0.5 1.0\n\n[[2]]\n          SAL QL        IW        LC\nSAL 1.0000000  7 3.0000000 3.0000000\nQL  0.1428571  1 0.3333333 0.3333333\nIW  0.3333333  3 1.0000000 4.0000000\nLC  0.3333333  3 0.2500000 1.0000000\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Consistency\nri <- ahp.ri(nsims = 10000, dim = 4, seed = 42)\nahp.cr(faktor_data_mat, faktor, ri)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.01780548 0.09677931\n```\n\n\n:::\n:::\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Treatement Consistency (Jika Tidak Konsisten)\n#faktor_data_mat <- ahp.harker(faktor_data_mat, faktor, iterations = 10, stopcr = 0.1)\n#ahp.cr(faktor_data_mat, faktor)\n```\n:::\n\n\nThe ahp.cr function calculates the consistency ratio of each decision-maker, defined by the following equation:\n\nCR = (λ − n)/((n − 1)(RI))\n\nWhere λ is the maximum eigenvalue of the pairwise comparison matrix, n is the number of attributes, and RI is the random index. Following Saaty and Tran (2007), the RI is a function of n and is the consistency ratio of randomly generated pairwise comparison matrices.\n\nSaaty showed that when the CR is higher than 0.1, the choice is deemed to be inconsistent\n\n#### Individual Rangking Faktor\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tibble)\nfaktor_ind <- ahp.indpref(faktor_data_mat, \n                          faktor, \n                          method = \"arithmetic\")\nround(faktor_ind, 3) %>% rownames_to_column('ID')\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  ID   SAL    QL    IW    LC\n1  1 0.512 0.099 0.243 0.147\n2  2 0.517 0.066 0.274 0.143\n```\n\n\n:::\n:::\n\n\n#### Aggregate Rangking Faktor\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfaktor_agg <- ahp.aggpref(faktor_data_mat, \n                          faktor, \n                          method = \"arithmetic\", \n                          aggmethod = \"arithmetic\")\nround(faktor_agg, 3) %>% t()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       SAL    QL    IW    LC\n[1,] 0.514 0.082 0.259 0.145\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nbarplot(faktor_agg,main=\"Rangking Faktor\")\n```\n\n::: {.cell-output-display}\n![](08-Bab8_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=768}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n# Mengubah Cat menjadi factor dengan label yang diinginkan\ndata = data.frame(\"Cat\"=row.names(data.frame(faktor_agg)),\n                  data.frame(faktor_agg))\ndata$Cat <- factor(data$Cat, \n                   levels = c(\"SAL\", \"QL\", \"IW\", \"LC\"),\n                   labels = c(\"Salary\", \"Quality of Life\", \n                              \"Interes in Work\", \"Location\"))\n# Mengurutkan\ndata$warna <- ifelse(data$faktor_agg == \n                       max(data$faktor_agg), \n                     \"terbesar\", \"lainnya\")\n# Buat grafik batang\nggplot(data, aes(x = Cat, \n                 y = faktor_agg, \n                 fill = warna)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = c(\"terbesar\" = \"#4682B4\", \n                               \"lainnya\" = \"#A9A9A9\")) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +  # Sembunyikan legenda\n  labs(\n    title = \"AHP: Rangking Faktor\",\n    y = \"Skor\",\n    x = \"\")\n```\n\n::: {.cell-output-display}\n![](08-Bab8_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=768}\n:::\n:::\n\n\n#### Alternatif\n\n#### Alternatif untuk Faktor Salary\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(dplyr)\nalternatif <- c(\"J1\", \"J2\", \"J3\")\n\n# Menampilkan data frame\nalternatif_data1 <- ahpdata[,8:10]\nalternatif1 <- ahp.mat(df = alternatif_data1, \n                       atts = alternatif, \n                       negconvert = TRUE)\nalternatif1_agg <- ahp.aggpref(alternatif1, \n                               alternatif, \n                               method = \"arithmetic\", \n                               aggmethod = \"arithmetic\")\nround(alternatif1_agg, 3) %>% t()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        J1    J2    J3\n[1,] 0.628 0.232 0.139\n```\n\n\n:::\n:::\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Consistency\nri <- ahp.ri(nsims = 10000, dim = 3, seed = 42)\nahp.cr(alternatif1, alternatif, ri)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.00000000 0.07669698\n```\n\n\n:::\n:::\n\n\n#### Alternatif untuk Faktor Quality of Life\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nalternatif_data2 <- ahpdata[,11:13]\nalternatif2 <- ahp.mat(df = alternatif_data2, \n                       atts = alternatif, \n                       negconvert = TRUE)\nalternatif2_agg <- ahp.aggpref(alternatif2, \n                               alternatif, \n                               method = \"arithmetic\", \n                               aggmethod = \"arithmetic\")\nround(alternatif2_agg, 3) %>% t()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       J1    J2    J3\n[1,] 0.15 0.269 0.581\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Consistency\nahp.cr(alternatif2, alternatif, ri)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.05121571 0.12952632\n```\n\n\n:::\n:::\n\n\n#### Alternatif untuk Faktor Interest in Work\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nalternatif_data3 <- ahpdata[,14:16]\nalternatif3 <- ahp.mat(df = alternatif_data3, \n                       atts = alternatif, \n                       negconvert = TRUE)\nalternatif3_agg <- ahp.aggpref(alternatif3, \n                               alternatif, \n                               method = \"arithmetic\", \n                               aggmethod = \"arithmetic\")\nround(alternatif3_agg, 3) %>% t()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        J1    J2    J3\n[1,] 0.132 0.651 0.218\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Consistency\nahp.cr(alternatif3, alternatif, ri)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.006706716 0.008789809\n```\n\n\n:::\n:::\n\n\n#### Alternatif untuk Faktor Location\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nalternatif_data4 <- ahpdata[,17:19]\nalternatif4 <- ahp.mat(df = alternatif_data4, \n                       atts = alternatif, \n                       negconvert = TRUE)\nalternatif4_agg <- ahp.aggpref(alternatif4, \n                               alternatif, \n                               method = \"arithmetic\", \n                               aggmethod = \"arithmetic\")\nround(alternatif4_agg, 3) %>% t()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        J1    J2    J3\n[1,] 0.104 0.597 0.299\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Consistency\nahp.cr(alternatif4, alternatif, ri)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.16898990 0.02349155\n```\n\n\n:::\n:::\n\n\n#### Gabungan Alternatif\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nalternatif_agg <- cbind(alternatif1_agg,alternatif2_agg,\n                        alternatif3_agg,alternatif4_agg) %*% faktor_agg\nalternatif_agg\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        [,1]\nJ1 0.3844544\nJ2 0.3964920\nJ3 0.2190537\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nbarplot(t(alternatif_agg) ,main=\"Rangking Alternatif\")\n```\n\n::: {.cell-output-display}\n![](08-Bab8_files/figure-html/unnamed-chunk-19-1.png){fig-align='center' width=768}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndata = data.frame(\"Cat\"=row.names(data.frame(alternatif_agg)),\n                  data.frame(alternatif_agg))\ndata$Cat <- factor(data$Cat, \n                   levels = c( \"J1\" , \"J2\" ,\"J3\"),\n                   labels = c(\"Job1\", \"Job2\",\"Job3\"))\n# Buat grafik batang\ndata$warna <- ifelse(data$alternatif_agg == max(data$alternatif_agg), \n                     \"terbesar\", \"lainnya\")\n# Buat grafik batang\nggplot(data, aes(x = Cat, y = alternatif_agg, fill = warna)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_manual(values = c(\"terbesar\" = \"#4682B4\", \n                               \"lainnya\" = \"#A9A9A9\")) +\n  theme_minimal() +\n  theme(legend.position = \"none\") +\n  labs(\n    title = \"AHP: Rangking Alternatif\",\n    y = \"Skor\",\n    x = \"\")\n```\n\n::: {.cell-output-display}\n![](08-Bab8_files/figure-html/unnamed-chunk-20-1.png){fig-align='center' width=768}\n:::\n:::\n\n",
    "supporting": [
      "08-Bab8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}